import java.nio.file.Files

task javadocJar(type: Jar) {
    classifier = 'javadoc'
    from javadoc
}


task sourcesJar(type: Jar) {
    classifier = 'sources'
    from sourceSets.main.allSource
}

pluginBundle {
    website = 'https://gitlab.com/hvalick2111/cutter'
    vcsUrl = 'https://gitlab.com/hvalick2111/cutter'

    description = 'Plugin to protect mods\' server code'

    mavenCoordinates {
        groupId = project.group
        artifactId = "cutter"
        version = project.version
    }

    plugins {
        cutter {
            id = project.group.toString() + ".cutter"

            displayName = 'Cutter'
            tags = ['individual', 'tags', 'per', 'plugin']
        }

    }
}

shadowJar {
    into("defaults") {
        from(project(":Defaults").tasks.findByName("renameOutput"))
    }
}
shadowJar.dependsOn(project(":Defaults").tasks.findByName("renameOutput"))

artifacts {
    archives javadocJar, sourcesJar
}
